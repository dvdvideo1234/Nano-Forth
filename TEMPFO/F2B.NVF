\ FILE TO BLOCKS CONVERTER
\ MARKER F2B.
: NEWBLK  SCR 1+ DUP TO SCR BUFFER 1K BLANK UPDATE 1L TO XY ;
0 VALUE `LL
: `?ADDLINE  DUP TO `LL XY + LIT ,< 1K 1L - , >,
     U< 0= IF  NEWBLK THEN
          SCR BLOCK XY + `LL CMOVE  `LL XY + 1L 1- OR 1+ >XY ;
: F2B  TOKEN?
: "F2B FOPEN ;FILE              \ TO BLOCKS POINTED BY SCR
  1K TO XY  NPAD CSTR  SKIP     \ PREPARE TO SAVE FILE NAME
  BEGIN  vINIT  `?ADDLINE EOS?  UNTIL FLUSH ;





